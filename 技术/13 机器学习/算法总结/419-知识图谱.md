第1篇 基础篇
第1章 知识图谱概述 2
1.1 知识图谱的基本概念 2
1.1.1 知识图谱的狭义概念 3
1.1.2 知识图谱的广义概念 8
1.2 知识图谱的历史沿革 10
1.2.1 知识图谱溯源 10
1.2.2 大数据知识工程 13
1.3 知识图谱的研究意义 16
1.3.1 知识图谱是认知智能的基石 16
1.3.2 知识引导成为解决问题的重要方式之一 19
1.4 知识图谱的应用价值 20
1.4.1 数据分析 20
1.4.2 智慧搜索 21
1.4.3 智能推荐 22
1.4.4 自然人机交互 23
1.4.5 决策支持 23
1.5 知识图谱的分类 24
1.5.1 知识图谱中的知识分类 25
1.5.2 知识图谱的领域特性 26
1.5.3 典型知识图谱 30
本章小结 38
思考题 39
参考文献 40
第2章 基础知识 43
2.1 概述 43
2.2 知识表示 45
2.2.1 基本概念 45
2.2.2 知识图谱的图表示 47
2.2.3 知识图谱的数值表示 49
2.2.4 其他相关知识表示 54
2.3 机器学习 64
2.3.1 机器学习的基本概念 65
2.3.2 深度学习概述 67
2.3.3 卷积神经网络 70
2.3.4 循环神经网络 71
2.3.5 注意力机制 72
2.4 自然语言处理 73
2.4.1 基本概念 74
2.4.2 文本的向量化表示 76
本章小结 78
思考题 79
参考文献 80
第2篇 构建篇
第3章 词汇挖掘与实体识别 84
3.1 概述 84
3.2 领域短语挖掘 86
3.2.1 问题描述 87
3.2.2 领域短语挖掘方法 88
3.2.3 统计指标特征 91
3.3 同义词挖掘 95
3.3.1 概述 95
3.3.2 典型方法 96
3.4 缩略词抽取 101
3.4.1 缩略词的概念与形式 101
3.4.2 缩略词的检测与抽取 103
3.4.3 缩略词的预测 105
3.5 实体识别 109
3.5.1 概述 109
3.5.2 传统的NER方法 110
3.5.3 基于深度学习的NER方法 114
3.5.4 近期的一些方法 120
本章小结 121
思考题 122
参考文献 122
第4章 关系抽取 127
4.1 概述 127
4.1.1 关系抽取的问题和方法分类 128
4.1.2 关系抽取常用数据集 130
4.1.3 关系抽取评估方法 131
4.2 基于模式的抽取 133
4.2.1 基于字符模式的抽取 134
4.2.2 基于语法模式的抽取 135
4.2.3 基于语义模式的抽取 135
4.2.4 自动化模式获取：自举法（Bootstrapping） 136
4.2.5 基于模式抽取的质量评估 138
4.3 基于学习的抽取 139
4.3.1 基于监督学习的关系抽取 140
4.3.2 基于远程监督学习的关系抽取 142
4.3.3 基于深度学习的关系抽取 144
4.4 开放关系抽取 150
4.4.1 TextRunner 151
4.4.2 ReVerb 152
4.4.3 Ollie 153
本章小结 154
思考题 156
参考文献 157
第5章 概念图谱构建 160
5.1 概述 160
5.1.1 常见的概念图谱 163
5.1.2 概念图谱的应用 166
5.2 isA关系抽取 168
5.2.1 基于在线百科的方法 169
5.2.2 基于模式的方法 170
5.2.3 中文概念图谱的构建 172
5.3 isA关系补全 175
5.3.1 isA关系缺失的成因 176
5.3.2 基于isA关系传递性的概念图谱补全 177
5.3.3 基于协同过滤思想的概念图谱补全 179
5.4 isA关系纠错 181
5.4.1 错误的成因 182
5.4.2 基于支持度的纠错 183
5.4.3 基于图模型的纠错 184
本章小结 185
思考题 186
参考文献 187
第6章 百科图谱构建 189
6.1 概述 189
6.1.1 什么是百科图谱 189
6.1.2 百科图谱的意义 190
6.1.3 百科图谱的分类 191
6.2 基于单源的百科图谱构建 192
6.2.1 数据获取 193
6.2.2 属性抽取 195
6.2.3 关系构建 200
6.2.4 概念层级体系构建 201
6.2.5 实体分类 201
6.3 基于多源的百科图谱融合 207
6.3.1 基于多个知识图谱的融合方法 207
6.3.2 基于多源异构数据的融合方法 215
本章小结 216
思考题 217
参考文献 217
第7章 知识图谱的众包构建 221
7.1 概述 221
7.2 知识型众包的基本概念 223
7.3 知识型众包研究的问题 226
7.3.1 What（对什么任务进行众包） 226
7.3.2 Whom（将任务交予谁完成） 229
7.3.3 How（如何完成众包） 230
7.4 基于众包的知识图谱构建与精化 235
7.4.1 本体构建阶段的人工介入 235
7.4.2 知识图谱构建阶段的人工介入 237
7.4.3 知识图谱精化阶段的人工介入 242
本章小结 244
思考题 245
参考文献 246
第8章 知识图谱的质量控制 250
8.1 概述 251
8.1.1 知识图谱质量评估的维度 251
8.1.2 知识图谱质量评估的方法 253
8.1.3 知识图谱质量控制全周期概览 254
8.2 缺失知识的发现与补全 260
8.2.1 类型补全 260
8.2.2 关系补全 263
8.2.3 属性值补全 268
8.3 错误知识的发现与纠正 270
8.3.1 错误实体类型检测 271
8.3.2 错误实体关系检测 271
8.3.3 错误属性值检测 273
8.4 过期知识的更新 274
8.4.1 基于更新频率预测的更新机制 275
8.4.2 基于时间标签的更新机制 276
8.4.3 基于热点事件发现的更新机制 277
本章小结 278
思考题 279
参考文献 280
第3篇 管理篇
第9章 知识图谱的建模与存储 286
9.1 概述 286
9.2 知识图谱的数据模型 287
9.2.1 知识图谱的三元组模型 287
9.2.2 知识图谱的图模型 291
9.3 知识图谱的物理存储 296
9.3.1 知识图谱数据的基本操作 296
9.3.2 知识图谱的关系表存储 298
9.3.3 知识图谱的图存储 302
9.3.4 分布式计算环境下的知识图谱数据存储 305
本章小结 309
思考题 310
参考文献 310
第10章 知识图谱的查询与检索 314
10.1 概述 314
10.2 查询语言：SPARQL 315
10.2.1 简单查询 315
10.2.2 SPARQL查询机制及知识图谱上的推理 321
10.3 子图查询 324
10.3.1 子图查询基本知识 324
10.3.2 近似子图查询 326
10.3.3 Top-k查询 331
10.3.4 索引结构 334
10.4 其他查询 335
10.4.1 路径查询 335
10.4.2 关键词查询 337
10.4.3 社团搜索 339
本章小结 342
思考题 343
参考文献 343
第11章 图数据管理系统 347
11.1 概述 347
11.2 知识图谱与图数据管理系统 348
11.2.1 大图管理的挑战 350
11.2.2 图数据管理系统的重要性 352
11.2.3 图管理系统管理知识图谱的挑战 354
11.3 图数据管理系统的基本架构和设计原则 357
11.4 典型的图数据管理系统 360
11.4.1 通用图数据管理系统 361
11.4.2 知识图谱专用图数据管理系统 364
11.4.3 图数据管理系统使用实例 366
本章小结 370
图数据处理的相关资源 370
思考题 371
参考文献 372
第4篇 应用篇
第12章 基于知识图谱的语言认知 376
12.1 概述 377
12.1.1 语言理解的挑战 377
12.1.2 语言理解需要知识图谱 378
12.1.3 语言理解的任务 379
12.2 实体理解 380
12.2.1 基本模型 381
12.2.2 局部实体链接分数 382
12.2.3 全局实体链接分数 383
12.2.4 模型计算 384
12.2.5 短文本实体链接 390
12.2.6 跨语言实体链接 391
12.3 概念理解 393
12.3.1 单实例概念理解 393
12.3.2 多实例概念理解 395
12.3.3 短语概念理解 397
12.3.4 关系对概念理解 399
12.3.5 概念理解应用举例 400
12.4 属性理解 401
本章小结 403
思考题 404
参考文献 404
第13章 基于知识图谱的搜索与推荐 407
13.1 概述 407
13.2 基于知识图谱的搜索 410
13.2.1 搜索概述 410
13.2.2 搜索意图理解 413
13.2.3 目标查找 415
13.2.4 结果呈现 415
13.2.5 实体探索 416
13.3 基于知识图谱的推荐 421
13.3.1 推荐的基本问题与挑战 421
13.3.2 基于知识图谱的物品画像 424
13.3.3 基于知识图谱的用户画像 429
13.3.4 基于知识图谱的跨领域推荐 431
13.3.5 基于知识图谱的可解释推荐 434
本章小结 435
思考题 437
参考文献 437
第14章 基于知识图谱的问答 440
14.1 概述 440
14.1.1 问答系统 440
14.1.2 KBQA 443
14.2 基于模板的KBQA 451
14.2.1 基于模板的意图识别 451
14.2.2 基于模板的属性关联 453
14.3 基于图模型的KBQA 455
14.3.1 监督学习方法 455
14.3.2 无监督方法 457
14.4 基于深度学习的KBQA 459
14.4.1 表示学习 460
14.4.2 分类模型 461
14.4.3 生成模型 463
本章小结 464
思考题 465
参考文献 466
第5篇 实践篇
第15章 知识图谱实践 470
15.1 概述 470
15.1.1 知识图谱应用的推动力 471
15.1.2 知识图谱应用与产业现状 473
15.1.3 知识图谱实践的系统工程观念 474
15.1.4 知识图谱助力行业智能化的演进路径 476
15.2 知识图谱系统 478
15.2.1 知识图谱系统的外部环境 478
15.2.2 知识图谱系统的关键要素 479
15.2.3 知识图谱系统的典型架构 481
15.3 知识图谱工程 487
15.3.1 基本原则 488
15.3.2 过程模型 491
15.3.3 可行性分析 493
15.3.4 实践建议 497
本章小结 501
思考题 501
参考文献 502
第16章 开放性问题 503
16.1 知识表示 503
16.1.1 与其他知识表示相联合的语义增强 503
16.1.2 过程语义增强 504
16.1.3 时空语义增强 505
16.1.4 跨模态语义增强 506
16.2 知识获取 506
16.2.1 低成本知识获取 507
16.2.2 复杂知识的获取 508
16.2.3 知识获取中的人机协作与评测 510
16.3 知识应用 511
16.3.1 知识图谱上的推理 511
16.3.2 符号知识增强机器学习 512
16.3.3 基于知识图谱的可解释人工智能 513
16.3.4 知识图谱的个性化问题 513
本章小结 514
思考题 515
参考文献 515


第1章 知识图谱概述 1
1.1 什么是知识图谱 1
1.2 知识图谱的发展历史 2
1.3 知识图谱的价值 5
1.4 国内外典型的知识图谱项目 9
1.4.1 早期的知识库项目 9
1.4.2 互联网时代的知识图谱 9
1.4.3 中文开放知识图谱 12
1.4.4 垂直领域知识图谱 13
1.5 知识图谱的技术流程 15
1.6 知识图谱的相关技术 19
1.6.1 知识图谱与数据库系统 19
1.6.2 知识图谱与智能问答 23
1.6.3 知识图谱与机器推理 25
1.6.4 知识图谱与推荐系统 28
1.6.5 区块链与去中心化的知识图谱 29
1.7 本章小结 30
参考文献 31
第2章 知识图谱表示与建模 40
2.1 什么是知识表示 40
2.2 人工智能早期的知识表示方法 43
2.2.1 一阶谓词逻辑 43
2.2.2 霍恩子句和霍恩逻辑 43
2.2.3 语义网络 44
2.2.4 框架 45
2.2.5 描述逻辑 47
2.3 互联网时代的语义网知识表示框架 48
2.3.1 RDF和RDFS 48
2.3.2 OWL和OWL2 Fragments 53
2.3.3 知识图谱查询语言的表示 59
2.3.4 语义Markup表示语言 62
2.4 常见开放域知识图谱的知识表示方法 64
2.4.1 Freebase 64
2.4.2 Wikidata 65
2.4.3 ConceptNet5 66
2.5 知识图谱的向量表示方法 68
2.5.1 知识图谱表示的挑战 68
2.5.2 词的向量表示方法 68
2.5.3 知识图谱嵌入的概念 71
2.5.4 知识图谱嵌入的优点 72
2.5.5 知识图谱嵌入的主要方法 72
2.5.6 知识图谱嵌入的应用 75
2.6 开源工具实践：基于Protégé的本体知识建模 77
2.6.1 简介 77
2.6.2 环境准备 78
2.6.3 Protégé实践主要功能演示 78
2.7 本章小结 80
参考文献 80
第3章 知识存储 82
3.1　知识图谱数据库基本知识 82
3.1.1　知识图谱数据模型 82
3.1.2　知识图谱查询语言 85
3.2 常见知识图谱存储方法 91
3.2.1 基于关系数据库的存储方案 91
3.2.2　面向RDF的三元组数据库 101
3.2.3 原生图数据库 115
3.2.4　知识图谱数据库比较 120
3.3　知识存储关键技术 121
3.3.1　知识图谱数据库的存储：以Neo4j为例 121
3.3.2　知识图谱数据库的索引 124
3.4 开源工具实践 126
3.4.1 三元组数据库Apache Jena 126
3.4.2 面向RDF的三元组数据库gStore 128
参考文献 131
第4章 知识抽取与知识挖掘 133
4.1 知识抽取任务及相关竞赛 133
4.1.1 知识抽取任务定义 133
4.1.2 知识抽取相关竞赛 134
4.2 面向非结构化数据的知识抽取 136
4.2.1 实体抽取 137
4.2.2 关系抽取 142
4.2.3 事件抽取 150
4.3 面向结构化数据的知识抽取 154
4.3.1 直接映射 154
4.3.2 R2RML 156
4.3.3 相关工具 159
4.4 面向半结构化数据的知识抽取 161
4.4.1 面向百科类数据的知识抽取 161
4.4.2 面向Web网页的知识抽取 165
4.5 知识挖掘 168
4.5.1 知识内容挖掘：实体链接 168
4.5.2 知识结构挖掘：规则挖掘 174
4.6 开源工具实践：基于DeepDive的关系抽取实践 178
4.6.1 开源工具的技术架构 178
4.6.2 其他类似工具 180
参考文献 180
第5章 知识图谱融合 184
5.1 什么是知识图谱融合 184
5.2 知识图谱中的异构问题 185
5.2.1 语言层不匹配 186
5.2.2 模型层不匹配 187
5.3 本体概念层的融合方法与技术 190
5.3.1 本体映射与本体集成 190
5.3.2 本体映射分类 192
5.3.3 本体映射方法和工具 195
5.3.4 本体映射管理 232
5.3.5 本体映射应用 235
5.4 实例层的融合与匹配 236
5.4.1 知识图谱中的实例匹配问题分析 236
5.4.2 基于快速相似度计算的实例匹配方法 240
5.4.3 基于规则的实例匹配方法 241
5.4.4 基于分治的实例匹配方法 244
5.4.5 基于学习的实例匹配方法 260
5.4.6 实例匹配中的分布式并行处理 266
5.5 开源工具实践：实体关系发现框架LIMES 266
5.5.1 简介 266
5.5.2 开源工具的技术架构 267
5.5.3 其他类似工具 269
5.6 本章小结 269
参考文献 269
第6章 知识图谱推理 279
6.1 推理概述 279
6.1.1 什么是推理 279
6.1.2 面向知识图谱的推理 282
6.2 基于演绎的知识图谱推理 283
6.2.1 本体推理 283
6.2.2 基于逻辑编程的推理方法 288
6.2.3 基于查询重写的方法 295
6.2.4 基于产生式规则的方法 301
6.3 基于归纳的知识图谱推理 306
6.3.1 基于图结构的推理 306
6.3.2 基于规则学习的推理 313
6.3.3 基于表示学习的推理 318
6.4 知识图谱推理新进展 324
6.4.1 时序预测推理 324
6.4.2 基于强化学习的知识图谱推理 325
6.4.3 基于元学习的少样本知识图谱推理 326
6.4.4 图神经网络与知识图谱推理 326
6.5 开源工具实践：基于Jena和Drools的知识推理实践 327
6.5.1 开源工具简介 327
6.5.2 开源工具的技术架构 327
6.5.3 开发软件版本及其下载地址 328
6.5.4 基于Jena的知识推理实践 328
6.5.5 基于Drools的知识推理实践 329
6.6 本章小结 329
参考文献 330
第7章 语义搜索 334
7.1 语义搜索简介 334
7.2 结构化的查询语言 336
7.2.1 数据查询 338
7.2.2 数据插入 341
7.2.3 数据删除 341
7.3 语义数据搜索 342
7.4 语义搜索的交互范式 348
7.4.1 基于关键词的知识图谱语义搜索方法 348
7.4.2 基于分面的知识图谱语义搜索 350
7.4.3 基于表示学习的知识图谱语义搜索 352
7.5 开源工具实践 355
7.5.1 功能介绍 355
7.5.2 环境搭建及数据准备 357
7.5.3 数据准备 357
7.5.4 导入Elasticsearch 360
7.5.5 功能实现 361
7.5.6 执行查询 363
参考文献 364
第8章 知识问答 366
8.1 知识问答概述 366
8.1.1 知识问答的基本要素 366
8.1.2 知识问答的相关工作 367
8.1.3 知识问答应用场景 369
8.2 知识问答的分类体系 371
8.2.1 问题类型与答案类型 371
8.2.2 知识库类型 374
8.2.3 智能体类型 375
8.3 知识问答系统 376
8.3.1 NLIDB：早期的问答系统 376
8.3.2 IRQA：基于信息检索的问答系统 380
8.3.3 KBQA：基于知识库的问答系统 380
8.3.4 CommunityQA/FAQ-QA：基于问答对匹配的问答系统 381
8.3.5 Hybrid QA Framework 混合问答系统框架 382
8.4 知识问答的评价方法 386
8.4.1 问答系统的评价指标 386
8.4.2 问答系统的评价数据集 387
8.5 KBQA前沿技术 392
8.5.1 KBQA面临的挑战 392
8.5.2 基于模板的方法 394
8.5.3 基于语义解析的方法 398
8.5.4 基于深度学习的传统问答模块优化 401
8.5.5 基于深度学习的端到端问答模型 405
8.6 开源工具实践 406
8.6.1 使用Elasticsearch搭建简单知识问答系统 406
8.6.2 基于gAnswer构建中英文知识问答系统 410
8.7 本章小结 415
参考文献 416
第9章 知识图谱应用案例 420
9.1 领域知识图谱构建的技术流程 420
9.1.1 领域知识建模 421
9.1.2 知识存储 422
9.1.3 知识抽取 422
9.1.4 知识融合 423
9.1.5 知识计算 423
9.1.6 知识应用 424
9.2 领域知识图谱构建的基本方法 425
9.2.1 自顶向下的构建方法 425
9.2.2 自底向上的构建方法 426
9.3 领域知识图谱的应用案例 428
9.3.1 电商知识图谱的构建与应用 428
9.3.2 图情知识图谱的构建与应用 431
9.3.3 生活娱乐知识图谱的构建与应用：以美团为例 435
9.3.4 企业商业知识图谱的构建与应用 440
9.3.5 创投知识图谱的构建与应用 443
9.3.6 中医临床领域知识图谱的构建与应用 448
9.3.7 金融证券行业知识图谱应用实践 452
9.4 本章小结 46